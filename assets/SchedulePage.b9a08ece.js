import{a2 as S,r as B,a4 as b,a5 as g,a6 as d,ab as C,ac as k,ad as v,s as A,aZ as q,q as _,a8 as y,ak as N,ag as T,a7 as E,aa as L,a_ as O}from"./index.9da13a01.js";import{u as P,d as U,e as D,s as H,f as V}from"./color_palette.e25808a8.js";import{B as $}from"./BackButton.6168710c.js";import"./QSlider.46313dfc.js";class W{constructor(e){this.standards={strict:"strict",loose:"loose",html5:"html5"},this.previewBody=null,this.close=null,this.previewBodyUtilPrintBtn=null,this.selectArray=[],this.counter=0,this.settings={standard:this.standards.html5},Object.assign(this.settings,e),this.init()}init(){this.counter++,this.settings.id=`printArea_${this.counter}`;let e="";this.settings.url&&!this.settings.asyncUrl&&(e=this.settings.url);let t=this;if(this.settings.asyncUrl)return void t.settings.asyncUrl(function(l){let i=t.getPrintWindow(l);t.settings.preview?t.previewIfrmaeLoad():t.print(i)},t.settings.vue);let s=this.getPrintWindow(e);this.settings.url||this.write(s.doc),this.settings.preview?this.previewIfrmaeLoad():this.print(s)}addEvent(e,t,s){e.addEventListener?e.addEventListener(t,s,!1):e.attachEvent?e.attachEvent("on"+t,s):e["on"+t]=s}previewIfrmaeLoad(){let e=document.getElementById("vue-pirnt-nb-previewBox");if(e){let t=this,s=e.querySelector("iframe");this.settings.previewBeforeOpenCallback(),this.addEvent(s,"load",function(){t.previewBoxShow(),t.removeCanvasImg(),t.settings.previewOpenCallback()}),this.addEvent(e.querySelector(".previewBodyUtilPrintBtn"),"click",function(){t.settings.beforeOpenCallback(),t.settings.openCallback(),s.contentWindow.print(),t.settings.closeCallback()})}}removeCanvasImg(){let e=this;try{if(e.elsdom){let t=e.elsdom.querySelectorAll(".canvasImg");for(let s=0;s<t.length;s++)t[s].remove()}}catch(t){console.log(t)}}print(e){var t=this;let s=document.getElementById(this.settings.id)||e.f,l=document.getElementById(this.settings.id).contentWindow||e.f.contentWindow;t.settings.beforeOpenCallback(),t.addEvent(s,"load",function(){l.focus(),t.settings.openCallback(),l.print(),s.remove(),t.settings.closeCallback(),t.removeCanvasImg()})}write(e){e.open(),e.write(`${this.docType()}<html>${this.getHead()}${this.getBody()}</html>`),e.close()}docType(){return this.settings.standard===this.standards.html5?"<!DOCTYPE html>":`<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01${this.settings.standard===this.standards.loose?" Transitional":""}//EN" "http://www.w3.org/TR/html4/${this.settings.standard===this.standards.loose?"loose":"strict"}.dtd">`}getHead(){let e="",t="",s="";this.settings.extraHead&&this.settings.extraHead.replace(/([^,]+)/g,i=>{e+=i}),[].forEach.call(document.querySelectorAll("link"),function(i){i.href.indexOf(".css")>=0&&(t+=`<link type="text/css" rel="stylesheet" href="${i.href}" >`)});let l=document.styleSheets;if(l&&l.length>0)for(let i=0;i<l.length;i++)try{if(l[i].cssRules||l[i].rules){let o=l[i].cssRules||l[i].rules;for(let r=0;r<o.length;r++)s+=o[r].cssText}}catch(o){console.log(l[i].href+o)}return this.settings.extraCss&&this.settings.extraCss.replace(/([^,\s]+)/g,i=>{t+=`<link type="text/css" rel="stylesheet" href="${i}">`}),`<head><title>${this.settings.popTitle}</title>${e}${t}<style type="text/css">${s}</style></head>`}getBody(){let e=this.settings.ids;return e=e.replace(new RegExp("#","g"),""),this.elsdom=this.beforeHanler(document.getElementById(e)),"<body>"+this.getFormData(this.elsdom).outerHTML+"</body>"}beforeHanler(e){let t=e.querySelectorAll("canvas");for(let s=0;s<t.length;s++)if(!t[s].style.display){let l=t[s].parentNode,i=t[s].toDataURL("image/png"),o=new Image;o.className="canvasImg",o.style.display="none",o.src=i,l.appendChild(o)}return e}getFormData(e){let t=e.cloneNode(!0),s=t.querySelectorAll("input,select,textarea"),l=t.querySelectorAll(".canvasImg,canvas"),i=-1;for(let o=0;o<l.length;o++){let r=l[o].parentNode,n=l[o];n.tagName.toLowerCase()==="canvas"?r.removeChild(n):n.style.display="block"}for(let o=0;o<s.length;o++){let r=s[o],n=r.getAttribute("type"),c=s[o];if(n||(n=r.tagName==="SELECT"?"select":r.tagName==="TEXTAREA"?"textarea":""),r.tagName==="INPUT")n==="radio"||n==="checkbox"?r.checked&&c.setAttribute("checked",r.checked):(c.value=r.value,c.setAttribute("value",r.value));else if(n==="select"){i++;for(let p=0;p<e.querySelectorAll("select").length;p++){let w=e.querySelectorAll("select")[p];if(!w.getAttribute("newbs")&&w.setAttribute("newbs",p),w.getAttribute("newbs")==i){let h=e.querySelectorAll("select")[i].selectedIndex;r.options[h].setAttribute("selected",!0)}}}else c.innerHTML=r.value,c.setAttribute("html",r.value)}return t}getPrintWindow(e){var t=this.Iframe(e);return{f:t,win:t.contentWindow||t,doc:t.doc}}previewBoxShow(){let e=document.getElementById("vue-pirnt-nb-previewBox");e&&(document.querySelector("html").setAttribute("style","overflow: hidden"),e.style.display="block")}previewBoxHide(){let e=document.getElementById("vue-pirnt-nb-previewBox");e&&(document.querySelector("html").setAttribute("style","overflow: visible;"),e.querySelector("iframe")&&e.querySelector("iframe").remove(),e.style.display="none")}previewBox(){let e=document.getElementById("vue-pirnt-nb-previewBox"),t="previewBody";if(e)return e.querySelector("iframe")&&e.querySelector("iframe").remove(),{close:e.querySelector(".previewClose"),previewBody:e.querySelector(".previewBody")};let s=document.createElement("div");s.setAttribute("id","vue-pirnt-nb-previewBox"),s.setAttribute("style","position: fixed;top: 0px;left: 0px;width: 100%;height: 100%;background: white;display:none"),s.style.zIndex=this.settings.zIndex;let l=document.createElement("div");l.setAttribute("class","previewHeader"),l.setAttribute("style","padding: 5px 20px;"),l.innerHTML=this.settings.previewTitle,s.appendChild(l),this.close=document.createElement("div");let i=this.close;i.setAttribute("class","previewClose"),i.setAttribute("style","position: absolute;top: 5px;right: 20px;width: 25px;height: 20px;cursor: pointer;");let o=document.createElement("div"),r=document.createElement("div");o.setAttribute("class","closeBefore"),o.setAttribute("style","position: absolute;width: 3px;height: 100%;background: #040404;transform: rotate(45deg); top: 0px;left: 50%;"),r.setAttribute("class","closeAfter"),r.setAttribute("style","position: absolute;width: 3px;height: 100%;background: #040404;transform: rotate(-45deg); top: 0px;left: 50%;"),i.appendChild(o),i.appendChild(r),l.appendChild(i),this.previewBody=document.createElement("div");let n=this.previewBody;n.setAttribute("class",t),n.setAttribute("style","display: flex;flex-direction: column; height: 100%;"),s.appendChild(n);let c=document.createElement("div");c.setAttribute("class","previewBodyUtil"),c.setAttribute("style","height: 32px;background: #474747;position: relative;"),n.appendChild(c),this.previewBodyUtilPrintBtn=document.createElement("div");let p=this.previewBodyUtilPrintBtn;return p.setAttribute("class","previewBodyUtilPrintBtn"),p.innerHTML=this.settings.previewPrintBtnLabel,p.setAttribute("style","position: absolute;padding: 2px 10px;margin-top: 3px;left: 24px;font-size: 14px;color: white;cursor: pointer;background-color: rgba(0,0,0,.12);background-image: linear-gradient(hsla(0,0%,100%,.05),hsla(0,0%,100%,0));background-clip: padding-box;border: 1px solid rgba(0,0,0,.35);border-color: rgba(0,0,0,.32) rgba(0,0,0,.38) rgba(0,0,0,.42);box-shadow: inset 0 1px 0 hsla(0,0%,100%,.05), inset 0 0 1px hsla(0,0%,100%,.15), 0 1px 0 hsla(0,0%,100%,.05);"),c.appendChild(p),document.body.appendChild(s),{close:this.close,previewBody:this.previewBody}}iframeBox(e,t){let s=document.createElement("iframe");return s.style.border="0px",s.style.position="absolute",s.style.width="0px",s.style.height="0px",s.style.right="0px",s.style.top="0px",s.setAttribute("id",e),s.setAttribute("src",t),s}Iframe(e){let t=this.settings.id;e=e||new Date().getTime();let s=this,l=this.iframeBox(t,e);try{if(this.settings.preview){l.setAttribute("style","border: 0px;flex: 1;");let i=this.previewBox(),o=i.previewBody,r=i.close;o.appendChild(l),this.addEvent(r,"click",function(){s.previewBoxHide()})}else document.body.appendChild(l);l.doc=null,l.doc=l.contentDocument?l.contentDocument:l.contentWindow?l.contentWindow.document:l.document}catch(i){throw new Error(i+". iframes may not be supported in this browser.")}if(l.doc==null)throw new Error("Cannot find document.");return l}}var I={directiveName:"print",mounted(f,e,t){let s=e.instance,l="";var i,o,r;o="click",r=()=>{if(typeof e.value=="string")l=e.value;else{if(typeof e.value!="object"||!e.value.id)return void window.print();{l=e.value.id;let c=l.replace(new RegExp("#","g"),"");document.getElementById(c)||(console.log("id in Error"),l="")}}n()},(i=f).addEventListener?i.addEventListener(o,r,!1):i.attachEvent?i.attachEvent("on"+o,r):i["on"+o]=r;const n=()=>{new W({ids:l,vue:s,url:e.value.url,standard:"",extraHead:e.value.extraHead,extraCss:e.value.extraCss,zIndex:e.value.zIndex||20002,previewTitle:e.value.previewTitle||"\u6253\u5370\u9884\u89C8",previewPrintBtnLabel:e.value.previewPrintBtnLabel||"\u6253\u5370",popTitle:e.value.popTitle,preview:e.value.preview||!1,asyncUrl:e.value.asyncUrl,previewBeforeOpenCallback(){e.value.previewBeforeOpenCallback&&e.value.previewBeforeOpenCallback(s)},previewOpenCallback(){e.value.previewOpenCallback&&e.value.previewOpenCallback(s)},openCallback(){e.value.openCallback&&e.value.openCallback(s)},closeCallback(){e.value.closeCallback&&e.value.closeCallback(s)},beforeOpenCallback(){e.value.beforeOpenCallback&&e.value.beforeOpenCallback(s)}})}},install:function(f){f.directive("print",I)}};const M={class:"window-height q-pa-xl q-ma-xl"},F=d("h4",{class:"q-mb-sm"},"Custom Block Names:",-1),j={class:"row q-gutter-md"},z={class:"row q-mt-md"},R=d("h4",{class:"q-mb-sm"},"Custom Block Colors:",-1),Q={class:"row q-gutter-md"},G=d("h4",{class:"q-mb-sm"},"Other Options:",-1),Y={class:"row q-gutter-md"},X=d("div",{class:"bg-red-6 q-pa-sm rounded-borders text-white text-subtitle1"},[d("p",null,` Getting the printer to print with color can be a bit difficult. In your print settings, under "More Settings" try enabling "Background Graphics". If you still can't see color in the preview, you can try to save it as a pdf and then print it after that. `)],-1),Z=d("h4",{class:"q-my-sm"},"Schedule Preview:",-1),J={class:"row",id:"schedule"},K={class:"q-ma-sm q-mb-md text-center"},ee={class:"q-my-none"},te={class:"q-gutter-sm"},se={class:"text-h6 q-mb-none"},ne=S({__name:"SchedulePage",setup(f){const e=H,t=V,s=P(),l=["Mon","Tue","Wed","Thu","Fri"],i={Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday"},o=B({A:"A",B:"B",C:"C",D:"D",E:"E",F:"F"}),r=B({A:"#e57373",B:"#f06292",C:"#64b5f6",D:"#4dd0e1",E:"#81c784",F:"#ffd54f","Morning Meeting":"#ffb74d","Group Advisory/1-on-1s":"#a1887f",Tutorial:"#dce775",Lunch:"#ff8a65"}),n=B(!0),c=B(!1);function p(){var h=s.localStorage.getItem("custom_blocks");h&&(o.value=h)}function w(h){var m=0;return m+=(Number(h.end.hour)-Number(h.start.hour))*60,m+=Number(h.end.minute)-Number(h.start.minute),m>70?m:70}return(h,m)=>(b(),g("div",M,[F,d("div",j,[(b(!0),g(C,null,k(Object.keys(o.value),a=>(b(),g("div",{key:a,class:"col"},[v(N,{label:a,modelValue:o.value[a],"onUpdate:modelValue":u=>o.value[a]=u,outlined:"",dense:""},null,8,["label","modelValue","onUpdate:modelValue"])]))),128))]),d("div",z,[v(A,{label:"Use saved values from Bay Clock",color:"blue",onClick:p,"no-caps":""})]),R,d("div",Q,[(b(!0),g(C,null,k(Object.keys(r.value),a=>(b(),g("div",{key:a,class:"col-auto q-mx-sm"},[v(A,{label:a,icon:"palette",color:y(t)[r.value[a]]},{default:T(()=>[v(U,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:T(()=>[v(D,{modelValue:r.value[a],"onUpdate:modelValue":u=>r.value[a]=u,"default-view":"palette",palette:Object.keys(y(t)),"no-footer":"","no-header-tabs":"",style:{"max-width":"250px"}},null,8,["modelValue","onUpdate:modelValue","palette"])]),_:2},1024)]),_:2},1032,["label","color"])]))),128))]),G,d("div",Y,[v(q,{modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=a=>n.value=a),label:"Center Text"},null,8,["modelValue"]),v(q,{modelValue:c.value,"onUpdate:modelValue":m[1]||(m[1]=a=>c.value=a),label:"Full Day Names"},null,8,["modelValue"])]),_(v(A,{class:"q-my-sm",color:"blue",label:"Print"},null,512),[[y(I),"#schedule"]]),X,Z,d("div",J,[(b(),g(C,null,k(l,a=>d("div",{key:a,class:"col"},[d("div",K,[d("h4",ee,E(c.value?y(i)[a]:a),1)]),d("div",te,[(b(!0),g(C,null,k(y(e)[a],(u,x)=>(b(),g("div",{key:x,color:"brand",class:L(["q-px-sm","q-ma-sm","rounded-borders","overflow-auto","justify-center","column","bg-"+y(t)[r.value[x]]||"blue",n.value?"text-center":""]),style:O("height: "+w(u)+"px")},[d("div",null,[d("p",se,E(x=="Group Advisory/1-on-1s"?"Advisory":o.value[x]||x),1),d("p",null,E(`${u.start.hour}:${u.start.minute<10?"0"+u.start.minute:u.start.minute} - ${u.end.hour}:${u.end.minute<10?"0"+u.end.minute:u.end.minute}`),1)])],6))),128))])])),64))]),v($)]))}});export{ne as default};
