import{a7 as I,r as w,a8 as m,a9 as v,aa as d,af as x,ag as C,ah as b,C as B,aY as E,B as S,ac as f,ao as _,ak as q,ab as k,ae as N,aZ as L}from"./index.8ccb1d15.js";import{u as O,a as P,e as U,f as A,s as D}from"./color_palette.6e5f0337.js";import"./QSlider.db8d1ffc.js";class H{constructor(e){this.standards={strict:"strict",loose:"loose",html5:"html5"},this.previewBody=null,this.close=null,this.previewBodyUtilPrintBtn=null,this.selectArray=[],this.counter=0,this.settings={standard:this.standards.html5},Object.assign(this.settings,e),this.init()}init(){this.counter++,this.settings.id=`printArea_${this.counter}`;let e="";this.settings.url&&!this.settings.asyncUrl&&(e=this.settings.url);let t=this;if(this.settings.asyncUrl)return void t.settings.asyncUrl(function(s){let i=t.getPrintWindow(s);t.settings.preview?t.previewIfrmaeLoad():t.print(i)},t.settings.vue);let l=this.getPrintWindow(e);this.settings.url||this.write(l.doc),this.settings.preview?this.previewIfrmaeLoad():this.print(l)}addEvent(e,t,l){e.addEventListener?e.addEventListener(t,l,!1):e.attachEvent?e.attachEvent("on"+t,l):e["on"+t]=l}previewIfrmaeLoad(){let e=document.getElementById("vue-pirnt-nb-previewBox");if(e){let t=this,l=e.querySelector("iframe");this.settings.previewBeforeOpenCallback(),this.addEvent(l,"load",function(){t.previewBoxShow(),t.removeCanvasImg(),t.settings.previewOpenCallback()}),this.addEvent(e.querySelector(".previewBodyUtilPrintBtn"),"click",function(){t.settings.beforeOpenCallback(),t.settings.openCallback(),l.contentWindow.print(),t.settings.closeCallback()})}}removeCanvasImg(){let e=this;try{if(e.elsdom){let t=e.elsdom.querySelectorAll(".canvasImg");for(let l=0;l<t.length;l++)t[l].remove()}}catch(t){console.log(t)}}print(e){var t=this;let l=document.getElementById(this.settings.id)||e.f,s=document.getElementById(this.settings.id).contentWindow||e.f.contentWindow;t.settings.beforeOpenCallback(),t.addEvent(l,"load",function(){s.focus(),t.settings.openCallback(),s.print(),l.remove(),t.settings.closeCallback(),t.removeCanvasImg()})}write(e){e.open(),e.write(`${this.docType()}<html>${this.getHead()}${this.getBody()}</html>`),e.close()}docType(){return this.settings.standard===this.standards.html5?"<!DOCTYPE html>":`<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01${this.settings.standard===this.standards.loose?" Transitional":""}//EN" "http://www.w3.org/TR/html4/${this.settings.standard===this.standards.loose?"loose":"strict"}.dtd">`}getHead(){let e="",t="",l="";this.settings.extraHead&&this.settings.extraHead.replace(/([^,]+)/g,i=>{e+=i}),[].forEach.call(document.querySelectorAll("link"),function(i){i.href.indexOf(".css")>=0&&(t+=`<link type="text/css" rel="stylesheet" href="${i.href}" >`)});let s=document.styleSheets;if(s&&s.length>0)for(let i=0;i<s.length;i++)try{if(s[i].cssRules||s[i].rules){let r=s[i].cssRules||s[i].rules;for(let o=0;o<r.length;o++)l+=r[o].cssText}}catch(r){console.log(s[i].href+r)}return this.settings.extraCss&&this.settings.extraCss.replace(/([^,\s]+)/g,i=>{t+=`<link type="text/css" rel="stylesheet" href="${i}">`}),`<head><title>${this.settings.popTitle}</title>${e}${t}<style type="text/css">${l}</style></head>`}getBody(){let e=this.settings.ids;return e=e.replace(new RegExp("#","g"),""),this.elsdom=this.beforeHanler(document.getElementById(e)),"<body>"+this.getFormData(this.elsdom).outerHTML+"</body>"}beforeHanler(e){let t=e.querySelectorAll("canvas");for(let l=0;l<t.length;l++)if(!t[l].style.display){let s=t[l].parentNode,i=t[l].toDataURL("image/png"),r=new Image;r.className="canvasImg",r.style.display="none",r.src=i,s.appendChild(r)}return e}getFormData(e){let t=e.cloneNode(!0),l=t.querySelectorAll("input,select,textarea"),s=t.querySelectorAll(".canvasImg,canvas"),i=-1;for(let r=0;r<s.length;r++){let o=s[r].parentNode,a=s[r];a.tagName.toLowerCase()==="canvas"?o.removeChild(a):a.style.display="block"}for(let r=0;r<l.length;r++){let o=l[r],a=o.getAttribute("type"),u=l[r];if(a||(a=o.tagName==="SELECT"?"select":o.tagName==="TEXTAREA"?"textarea":""),o.tagName==="INPUT")a==="radio"||a==="checkbox"?o.checked&&u.setAttribute("checked",o.checked):(u.value=o.value,u.setAttribute("value",o.value));else if(a==="select"){i++;for(let c=0;c<e.querySelectorAll("select").length;c++){let p=e.querySelectorAll("select")[c];if(!p.getAttribute("newbs")&&p.setAttribute("newbs",c),p.getAttribute("newbs")==i){let n=e.querySelectorAll("select")[i].selectedIndex;o.options[n].setAttribute("selected",!0)}}}else u.innerHTML=o.value,u.setAttribute("html",o.value)}return t}getPrintWindow(e){var t=this.Iframe(e);return{f:t,win:t.contentWindow||t,doc:t.doc}}previewBoxShow(){let e=document.getElementById("vue-pirnt-nb-previewBox");e&&(document.querySelector("html").setAttribute("style","overflow: hidden"),e.style.display="block")}previewBoxHide(){let e=document.getElementById("vue-pirnt-nb-previewBox");e&&(document.querySelector("html").setAttribute("style","overflow: visible;"),e.querySelector("iframe")&&e.querySelector("iframe").remove(),e.style.display="none")}previewBox(){let e=document.getElementById("vue-pirnt-nb-previewBox"),t="previewBody";if(e)return e.querySelector("iframe")&&e.querySelector("iframe").remove(),{close:e.querySelector(".previewClose"),previewBody:e.querySelector(".previewBody")};let l=document.createElement("div");l.setAttribute("id","vue-pirnt-nb-previewBox"),l.setAttribute("style","position: fixed;top: 0px;left: 0px;width: 100%;height: 100%;background: white;display:none"),l.style.zIndex=this.settings.zIndex;let s=document.createElement("div");s.setAttribute("class","previewHeader"),s.setAttribute("style","padding: 5px 20px;"),s.innerHTML=this.settings.previewTitle,l.appendChild(s),this.close=document.createElement("div");let i=this.close;i.setAttribute("class","previewClose"),i.setAttribute("style","position: absolute;top: 5px;right: 20px;width: 25px;height: 20px;cursor: pointer;");let r=document.createElement("div"),o=document.createElement("div");r.setAttribute("class","closeBefore"),r.setAttribute("style","position: absolute;width: 3px;height: 100%;background: #040404;transform: rotate(45deg); top: 0px;left: 50%;"),o.setAttribute("class","closeAfter"),o.setAttribute("style","position: absolute;width: 3px;height: 100%;background: #040404;transform: rotate(-45deg); top: 0px;left: 50%;"),i.appendChild(r),i.appendChild(o),s.appendChild(i),this.previewBody=document.createElement("div");let a=this.previewBody;a.setAttribute("class",t),a.setAttribute("style","display: flex;flex-direction: column; height: 100%;"),l.appendChild(a);let u=document.createElement("div");u.setAttribute("class","previewBodyUtil"),u.setAttribute("style","height: 32px;background: #474747;position: relative;"),a.appendChild(u),this.previewBodyUtilPrintBtn=document.createElement("div");let c=this.previewBodyUtilPrintBtn;return c.setAttribute("class","previewBodyUtilPrintBtn"),c.innerHTML=this.settings.previewPrintBtnLabel,c.setAttribute("style","position: absolute;padding: 2px 10px;margin-top: 3px;left: 24px;font-size: 14px;color: white;cursor: pointer;background-color: rgba(0,0,0,.12);background-image: linear-gradient(hsla(0,0%,100%,.05),hsla(0,0%,100%,0));background-clip: padding-box;border: 1px solid rgba(0,0,0,.35);border-color: rgba(0,0,0,.32) rgba(0,0,0,.38) rgba(0,0,0,.42);box-shadow: inset 0 1px 0 hsla(0,0%,100%,.05), inset 0 0 1px hsla(0,0%,100%,.15), 0 1px 0 hsla(0,0%,100%,.05);"),u.appendChild(c),document.body.appendChild(l),{close:this.close,previewBody:this.previewBody}}iframeBox(e,t){let l=document.createElement("iframe");return l.style.border="0px",l.style.position="absolute",l.style.width="0px",l.style.height="0px",l.style.right="0px",l.style.top="0px",l.setAttribute("id",e),l.setAttribute("src",t),l}Iframe(e){let t=this.settings.id;e=e||new Date().getTime();let l=this,s=this.iframeBox(t,e);try{if(this.settings.preview){s.setAttribute("style","border: 0px;flex: 1;");let i=this.previewBox(),r=i.previewBody,o=i.close;r.appendChild(s),this.addEvent(o,"click",function(){l.previewBoxHide()})}else document.body.appendChild(s);s.doc=null,s.doc=s.contentDocument?s.contentDocument:s.contentWindow?s.contentWindow.document:s.document}catch(i){throw new Error(i+". iframes may not be supported in this browser.")}if(s.doc==null)throw new Error("Cannot find document.");return s}}var T={directiveName:"print",mounted(g,e,t){let l=e.instance,s="";var i,r,o;r="click",o=()=>{if(typeof e.value=="string")s=e.value;else{if(typeof e.value!="object"||!e.value.id)return void window.print();{s=e.value.id;let u=s.replace(new RegExp("#","g"),"");document.getElementById(u)||(console.log("id in Error"),s="")}}a()},(i=g).addEventListener?i.addEventListener(r,o,!1):i.attachEvent?i.attachEvent("on"+r,o):i["on"+r]=o;const a=()=>{new H({ids:s,vue:l,url:e.value.url,standard:"",extraHead:e.value.extraHead,extraCss:e.value.extraCss,zIndex:e.value.zIndex||20002,previewTitle:e.value.previewTitle||"\u6253\u5370\u9884\u89C8",previewPrintBtnLabel:e.value.previewPrintBtnLabel||"\u6253\u5370",popTitle:e.value.popTitle,preview:e.value.preview||!1,asyncUrl:e.value.asyncUrl,previewBeforeOpenCallback(){e.value.previewBeforeOpenCallback&&e.value.previewBeforeOpenCallback(l)},previewOpenCallback(){e.value.previewOpenCallback&&e.value.previewOpenCallback(l)},openCallback(){e.value.openCallback&&e.value.openCallback(l)},closeCallback(){e.value.closeCallback&&e.value.closeCallback(l)},beforeOpenCallback(){e.value.beforeOpenCallback&&e.value.beforeOpenCallback(l)}})}},install:function(g){g.directive("print",T)}};const V={class:"window-height q-pa-xl q-ma-xl"},$=d("h4",{class:"q-mb-sm"},"Custom Block Names:",-1),W={class:"row q-gutter-md"},M={class:"row q-mt-md"},F=d("h4",{class:"q-mb-sm"},"Custom Block Colors:",-1),z={class:"row q-gutter-md"},R=d("h4",{class:"q-mb-sm"},"Other Options:",-1),j={class:"row q-gutter-md"},Q=d("div",{class:"bg-red-6 q-pa-sm rounded-borders text-white text-subtitle1"},[d("p",null,`Getting the printer to print with color can be a bit difficult. In your print settings, under "More Settings" try enabling "Background Graphics". If you still can't see color in the preview, you can try to save it as a pdf and then print it after that.`)],-1),G=d("h4",{class:"q-my-sm"},"Schedule Preview:",-1),Y={class:"row",id:"schedule"},X={class:"q-ma-sm q-mb-md text-center"},Z={class:"q-my-none"},J={class:"q-gutter-sm"},K={class:"text-h6 q-mb-none"},se=I({__name:"SchedulePage",setup(g){const e=w({A:"A",B:"B",C:"C",D:"D",E:"E",F:"F"}),t=w({A:"#e57373",B:"#f06292",C:"#64b5f6",D:"#4dd0e1",E:"#81c784",F:"#ffd54f","Morning Meeting":"#ffb74d","Group Advisory/1-on-1s":"#a1887f",Tutorial:"#dce775",Lunch:"#ff8a65"}),l=O(),s=w(!0),i=w(!1);function r(){l.localStorage.getItem("custom_blocks")&&(e.value=l.localStorage.getItem("custom_blocks"))}function o(c){var p=0;return p+=(Number(c.end.hour)-Number(c.start.hour))*60,p+=Number(c.end.minute)-Number(c.start.minute),p>70?p:70}const a=["Mon","Tue","Wed","Thu","Fri"],u={Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday"};return(c,p)=>(m(),v("div",V,[$,d("div",W,[(m(!0),v(x,null,C(Object.keys(e.value),n=>(m(),v("div",{key:n,class:"col"},[b(_,{label:n,modelValue:e.value[n],"onUpdate:modelValue":h=>e.value[n]=h,outlined:"",dense:""},null,8,["label","modelValue","onUpdate:modelValue"])]))),128))]),d("div",M,[b(B,{label:"Use saved values from Bay Clock",color:"blue",onClick:r,"no-caps":""})]),F,d("div",z,[(m(!0),v(x,null,C(Object.keys(t.value),n=>(m(),v("div",{key:n,class:"col-auto q-mx-sm"},[b(B,{label:n,icon:"palette",color:f(A)[t.value[n]]},{default:q(()=>[b(P,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:q(()=>[b(U,{modelValue:t.value[n],"onUpdate:modelValue":h=>t.value[n]=h,"default-view":"palette",palette:Object.keys(f(A)),"no-footer":"","no-header-tabs":"",style:{"max-width":"250px"}},null,8,["modelValue","onUpdate:modelValue","palette"])]),_:2},1024)]),_:2},1032,["label","color"])]))),128))]),R,d("div",j,[b(E,{modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=n=>s.value=n),label:"Center Text"},null,8,["modelValue"]),b(E,{modelValue:i.value,"onUpdate:modelValue":p[1]||(p[1]=n=>i.value=n),label:"Full Day Names"},null,8,["modelValue"])]),S(b(B,{class:"q-my-sm",color:"blue",label:"Print"},null,512),[[f(T),"#schedule"]]),Q,G,d("div",Y,[(m(),v(x,null,C(a,n=>d("div",{key:n,class:"col"},[d("div",X,[d("h4",Z,k(i.value?u[n]:n),1)]),d("div",J,[(m(!0),v(x,null,C(f(D)[n],(h,y)=>(m(),v("div",{key:y,color:"brand",class:N(["q-px-sm","q-ma-sm","rounded-borders","overflow-auto","justify-center","column","bg-"+f(A)[t.value[y]]||"blue",s.value?"text-center":""]),style:L("height: "+o(h)+"px")},[d("div",null,[d("p",K,k(y=="Group Advisory/1-on-1s"?"Advisory":e.value[y]||y),1),d("p",null,k(`${h.start.hour}:${h.start.minute<10?"0"+h.start.minute:h.start.minute} - ${h.end.hour}:${h.end.minute<10?"0"+h.end.minute:h.end.minute}`),1)])],6))),128))])])),64))])]))}});export{se as default};
