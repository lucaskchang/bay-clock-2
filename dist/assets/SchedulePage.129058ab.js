import{a7 as _,r as B,a8 as v,a9 as b,aa as n,af as C,ag as k,ah as g,C as A,ap as q,B as S,ac as y,ao as N,ak as T,ab as E,ae as L,aZ as O}from"./index.37fde7b1.js";import{u as P,a as U,e as D,s as H,f as V}from"./color_palette.3f214323.js";import"./QSlider.b2ae9533.js";class ${constructor(e){this.standards={strict:"strict",loose:"loose",html5:"html5"},this.previewBody=null,this.close=null,this.previewBodyUtilPrintBtn=null,this.selectArray=[],this.counter=0,this.settings={standard:this.standards.html5},Object.assign(this.settings,e),this.init()}init(){this.counter++,this.settings.id=`printArea_${this.counter}`;let e="";this.settings.url&&!this.settings.asyncUrl&&(e=this.settings.url);let s=this;if(this.settings.asyncUrl)return void s.settings.asyncUrl(function(l){let o=s.getPrintWindow(l);s.settings.preview?s.previewIfrmaeLoad():s.print(o)},s.settings.vue);let t=this.getPrintWindow(e);this.settings.url||this.write(t.doc),this.settings.preview?this.previewIfrmaeLoad():this.print(t)}addEvent(e,s,t){e.addEventListener?e.addEventListener(s,t,!1):e.attachEvent?e.attachEvent("on"+s,t):e["on"+s]=t}previewIfrmaeLoad(){let e=document.getElementById("vue-pirnt-nb-previewBox");if(e){let s=this,t=e.querySelector("iframe");this.settings.previewBeforeOpenCallback(),this.addEvent(t,"load",function(){s.previewBoxShow(),s.removeCanvasImg(),s.settings.previewOpenCallback()}),this.addEvent(e.querySelector(".previewBodyUtilPrintBtn"),"click",function(){s.settings.beforeOpenCallback(),s.settings.openCallback(),t.contentWindow.print(),s.settings.closeCallback()})}}removeCanvasImg(){let e=this;try{if(e.elsdom){let s=e.elsdom.querySelectorAll(".canvasImg");for(let t=0;t<s.length;t++)s[t].remove()}}catch(s){console.log(s)}}print(e){var s=this;let t=document.getElementById(this.settings.id)||e.f,l=document.getElementById(this.settings.id).contentWindow||e.f.contentWindow;s.settings.beforeOpenCallback(),s.addEvent(t,"load",function(){l.focus(),s.settings.openCallback(),l.print(),t.remove(),s.settings.closeCallback(),s.removeCanvasImg()})}write(e){e.open(),e.write(`${this.docType()}<html>${this.getHead()}${this.getBody()}</html>`),e.close()}docType(){return this.settings.standard===this.standards.html5?"<!DOCTYPE html>":`<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01${this.settings.standard===this.standards.loose?" Transitional":""}//EN" "http://www.w3.org/TR/html4/${this.settings.standard===this.standards.loose?"loose":"strict"}.dtd">`}getHead(){let e="",s="",t="";this.settings.extraHead&&this.settings.extraHead.replace(/([^,]+)/g,o=>{e+=o}),[].forEach.call(document.querySelectorAll("link"),function(o){o.href.indexOf(".css")>=0&&(s+=`<link type="text/css" rel="stylesheet" href="${o.href}" >`)});let l=document.styleSheets;if(l&&l.length>0)for(let o=0;o<l.length;o++)try{if(l[o].cssRules||l[o].rules){let i=l[o].cssRules||l[o].rules;for(let r=0;r<i.length;r++)t+=i[r].cssText}}catch(i){console.log(l[o].href+i)}return this.settings.extraCss&&this.settings.extraCss.replace(/([^,\s]+)/g,o=>{s+=`<link type="text/css" rel="stylesheet" href="${o}">`}),`<head><title>${this.settings.popTitle}</title>${e}${s}<style type="text/css">${t}</style></head>`}getBody(){let e=this.settings.ids;return e=e.replace(new RegExp("#","g"),""),this.elsdom=this.beforeHanler(document.getElementById(e)),"<body>"+this.getFormData(this.elsdom).outerHTML+"</body>"}beforeHanler(e){let s=e.querySelectorAll("canvas");for(let t=0;t<s.length;t++)if(!s[t].style.display){let l=s[t].parentNode,o=s[t].toDataURL("image/png"),i=new Image;i.className="canvasImg",i.style.display="none",i.src=o,l.appendChild(i)}return e}getFormData(e){let s=e.cloneNode(!0),t=s.querySelectorAll("input,select,textarea"),l=s.querySelectorAll(".canvasImg,canvas"),o=-1;for(let i=0;i<l.length;i++){let r=l[i].parentNode,d=l[i];d.tagName.toLowerCase()==="canvas"?r.removeChild(d):d.style.display="block"}for(let i=0;i<t.length;i++){let r=t[i],d=r.getAttribute("type"),c=t[i];if(d||(d=r.tagName==="SELECT"?"select":r.tagName==="TEXTAREA"?"textarea":""),r.tagName==="INPUT")d==="radio"||d==="checkbox"?r.checked&&c.setAttribute("checked",r.checked):(c.value=r.value,c.setAttribute("value",r.value));else if(d==="select"){o++;for(let p=0;p<e.querySelectorAll("select").length;p++){let w=e.querySelectorAll("select")[p];if(!w.getAttribute("newbs")&&w.setAttribute("newbs",p),w.getAttribute("newbs")==o){let h=e.querySelectorAll("select")[o].selectedIndex;r.options[h].setAttribute("selected",!0)}}}else c.innerHTML=r.value,c.setAttribute("html",r.value)}return s}getPrintWindow(e){var s=this.Iframe(e);return{f:s,win:s.contentWindow||s,doc:s.doc}}previewBoxShow(){let e=document.getElementById("vue-pirnt-nb-previewBox");e&&(document.querySelector("html").setAttribute("style","overflow: hidden"),e.style.display="block")}previewBoxHide(){let e=document.getElementById("vue-pirnt-nb-previewBox");e&&(document.querySelector("html").setAttribute("style","overflow: visible;"),e.querySelector("iframe")&&e.querySelector("iframe").remove(),e.style.display="none")}previewBox(){let e=document.getElementById("vue-pirnt-nb-previewBox"),s="previewBody";if(e)return e.querySelector("iframe")&&e.querySelector("iframe").remove(),{close:e.querySelector(".previewClose"),previewBody:e.querySelector(".previewBody")};let t=document.createElement("div");t.setAttribute("id","vue-pirnt-nb-previewBox"),t.setAttribute("style","position: fixed;top: 0px;left: 0px;width: 100%;height: 100%;background: white;display:none"),t.style.zIndex=this.settings.zIndex;let l=document.createElement("div");l.setAttribute("class","previewHeader"),l.setAttribute("style","padding: 5px 20px;"),l.innerHTML=this.settings.previewTitle,t.appendChild(l),this.close=document.createElement("div");let o=this.close;o.setAttribute("class","previewClose"),o.setAttribute("style","position: absolute;top: 5px;right: 20px;width: 25px;height: 20px;cursor: pointer;");let i=document.createElement("div"),r=document.createElement("div");i.setAttribute("class","closeBefore"),i.setAttribute("style","position: absolute;width: 3px;height: 100%;background: #040404;transform: rotate(45deg); top: 0px;left: 50%;"),r.setAttribute("class","closeAfter"),r.setAttribute("style","position: absolute;width: 3px;height: 100%;background: #040404;transform: rotate(-45deg); top: 0px;left: 50%;"),o.appendChild(i),o.appendChild(r),l.appendChild(o),this.previewBody=document.createElement("div");let d=this.previewBody;d.setAttribute("class",s),d.setAttribute("style","display: flex;flex-direction: column; height: 100%;"),t.appendChild(d);let c=document.createElement("div");c.setAttribute("class","previewBodyUtil"),c.setAttribute("style","height: 32px;background: #474747;position: relative;"),d.appendChild(c),this.previewBodyUtilPrintBtn=document.createElement("div");let p=this.previewBodyUtilPrintBtn;return p.setAttribute("class","previewBodyUtilPrintBtn"),p.innerHTML=this.settings.previewPrintBtnLabel,p.setAttribute("style","position: absolute;padding: 2px 10px;margin-top: 3px;left: 24px;font-size: 14px;color: white;cursor: pointer;background-color: rgba(0,0,0,.12);background-image: linear-gradient(hsla(0,0%,100%,.05),hsla(0,0%,100%,0));background-clip: padding-box;border: 1px solid rgba(0,0,0,.35);border-color: rgba(0,0,0,.32) rgba(0,0,0,.38) rgba(0,0,0,.42);box-shadow: inset 0 1px 0 hsla(0,0%,100%,.05), inset 0 0 1px hsla(0,0%,100%,.15), 0 1px 0 hsla(0,0%,100%,.05);"),c.appendChild(p),document.body.appendChild(t),{close:this.close,previewBody:this.previewBody}}iframeBox(e,s){let t=document.createElement("iframe");return t.style.border="0px",t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.style.right="0px",t.style.top="0px",t.setAttribute("id",e),t.setAttribute("src",s),t}Iframe(e){let s=this.settings.id;e=e||new Date().getTime();let t=this,l=this.iframeBox(s,e);try{if(this.settings.preview){l.setAttribute("style","border: 0px;flex: 1;");let o=this.previewBox(),i=o.previewBody,r=o.close;i.appendChild(l),this.addEvent(r,"click",function(){t.previewBoxHide()})}else document.body.appendChild(l);l.doc=null,l.doc=l.contentDocument?l.contentDocument:l.contentWindow?l.contentWindow.document:l.document}catch(o){throw new Error(o+". iframes may not be supported in this browser.")}if(l.doc==null)throw new Error("Cannot find document.");return l}}var I={directiveName:"print",mounted(f,e,s){let t=e.instance,l="";var o,i,r;i="click",r=()=>{if(typeof e.value=="string")l=e.value;else{if(typeof e.value!="object"||!e.value.id)return void window.print();{l=e.value.id;let c=l.replace(new RegExp("#","g"),"");document.getElementById(c)||(console.log("id in Error"),l="")}}d()},(o=f).addEventListener?o.addEventListener(i,r,!1):o.attachEvent?o.attachEvent("on"+i,r):o["on"+i]=r;const d=()=>{new $({ids:l,vue:t,url:e.value.url,standard:"",extraHead:e.value.extraHead,extraCss:e.value.extraCss,zIndex:e.value.zIndex||20002,previewTitle:e.value.previewTitle||"\u6253\u5370\u9884\u89C8",previewPrintBtnLabel:e.value.previewPrintBtnLabel||"\u6253\u5370",popTitle:e.value.popTitle,preview:e.value.preview||!1,asyncUrl:e.value.asyncUrl,previewBeforeOpenCallback(){e.value.previewBeforeOpenCallback&&e.value.previewBeforeOpenCallback(t)},previewOpenCallback(){e.value.previewOpenCallback&&e.value.previewOpenCallback(t)},openCallback(){e.value.openCallback&&e.value.openCallback(t)},closeCallback(){e.value.closeCallback&&e.value.closeCallback(t)},beforeOpenCallback(){e.value.beforeOpenCallback&&e.value.beforeOpenCallback(t)}})}},install:function(f){f.directive("print",I)}};const W={class:"window-height q-pa-xl q-ma-xl"},M=n("h4",{class:"q-mb-sm"},"Custom Block Names:",-1),F={class:"row q-gutter-md"},j={class:"row q-mt-md"},z=n("h4",{class:"q-mb-sm"},"Custom Block Colors:",-1),R={class:"row q-gutter-md"},Q=n("h4",{class:"q-mb-sm"},"Other Options:",-1),G={class:"row q-gutter-md"},Y=n("div",{class:"bg-red-6 q-pa-sm rounded-borders text-white text-subtitle1"},[n("p",null,` Getting the printer to print with color can be a bit difficult. In your print settings, under "More Settings" try enabling "Background Graphics". If you still can't see color in the preview, you can try to save it as a pdf and then print it after that. `)],-1),X=n("h4",{class:"q-my-sm"},"Schedule Preview:",-1),Z={class:"row",id:"schedule"},J={class:"q-ma-sm q-mb-md text-center"},K={class:"q-my-none"},ee={class:"q-gutter-sm"},te={class:"text-h6 q-mb-none"},se=n("div",{class:"float-bottom q-pa-md text-center"},[n("a",{href:"/#/"},"Back to Bay Clock")],-1),re=_({__name:"SchedulePage",setup(f){const e=H,s=V,t=B({A:"A",B:"B",C:"C",D:"D",E:"E",F:"F"}),l=B({A:"#e57373",B:"#f06292",C:"#64b5f6",D:"#4dd0e1",E:"#81c784",F:"#ffd54f","Morning Meeting":"#ffb74d","Group Advisory/1-on-1s":"#a1887f",Tutorial:"#dce775",Lunch:"#ff8a65"}),o=P(),i=B(!0),r=B(!1);function d(){var h=o.localStorage.getItem("custom_blocks");h&&(t.value=h)}function c(h){var m=0;return m+=(Number(h.end.hour)-Number(h.start.hour))*60,m+=Number(h.end.minute)-Number(h.start.minute),m>70?m:70}const p=["Mon","Tue","Wed","Thu","Fri"],w={Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday"};return(h,m)=>(v(),b("div",W,[M,n("div",F,[(v(!0),b(C,null,k(Object.keys(t.value),a=>(v(),b("div",{key:a,class:"col"},[g(N,{label:a,modelValue:t.value[a],"onUpdate:modelValue":u=>t.value[a]=u,outlined:"",dense:""},null,8,["label","modelValue","onUpdate:modelValue"])]))),128))]),n("div",j,[g(A,{label:"Use saved values from Bay Clock",color:"blue",onClick:d,"no-caps":""})]),z,n("div",R,[(v(!0),b(C,null,k(Object.keys(l.value),a=>(v(),b("div",{key:a,class:"col-auto q-mx-sm"},[g(A,{label:a,icon:"palette",color:y(s)[l.value[a]]},{default:T(()=>[g(U,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:T(()=>[g(D,{modelValue:l.value[a],"onUpdate:modelValue":u=>l.value[a]=u,"default-view":"palette",palette:Object.keys(y(s)),"no-footer":"","no-header-tabs":"",style:{"max-width":"250px"}},null,8,["modelValue","onUpdate:modelValue","palette"])]),_:2},1024)]),_:2},1032,["label","color"])]))),128))]),Q,n("div",G,[g(q,{modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=a=>i.value=a),label:"Center Text"},null,8,["modelValue"]),g(q,{modelValue:r.value,"onUpdate:modelValue":m[1]||(m[1]=a=>r.value=a),label:"Full Day Names"},null,8,["modelValue"])]),S(g(A,{class:"q-my-sm",color:"blue",label:"Print"},null,512),[[y(I),"#schedule"]]),Y,X,n("div",Z,[(v(),b(C,null,k(p,a=>n("div",{key:a,class:"col"},[n("div",J,[n("h4",K,E(r.value?y(w)[a]:a),1)]),n("div",ee,[(v(!0),b(C,null,k(y(e)[a],(u,x)=>(v(),b("div",{key:x,color:"brand",class:L(["q-px-sm","q-ma-sm","rounded-borders","overflow-auto","justify-center","column","bg-"+y(s)[l.value[x]]||"blue",i.value?"text-center":""]),style:O("height: "+c(u)+"px")},[n("div",null,[n("p",te,E(x=="Group Advisory/1-on-1s"?"Advisory":t.value[x]||x),1),n("p",null,E(`${u.start.hour}:${u.start.minute<10?"0"+u.start.minute:u.start.minute} - ${u.end.hour}:${u.end.minute<10?"0"+u.end.minute:u.end.minute}`),1)])],6))),128))])])),64))]),se]))}});export{re as default};
